# Gemini Project Configuration

## Project Overview

This repository contains a NixOS configuration managed with Nix Flakes. It sets up multiple machines (`desktop`, `laptop`, `vm`) and uses `home-manager` to manage user-specific dotfiles and packages. The primary desktop environment is built around Hyprland and popular tools from the ecosystem.

## Directory Structure

-   `flake.nix`: The main entry point for the Nix Flake. It defines inputs (dependencies) and outputs (the system configurations).
-   `hosts/`: Contains host-specific configurations. Each subdirectory corresponds to a different machine.
    -   `hosts/<name>/default.nix`: The main NixOS configuration for the host.
    -   `hosts/<name>/hardware-configuration.nix`: The hardware-specific configuration for the host, usually generated by the NixOS installer.
-   `modules/`: Contains modularized parts of the configuration, split into system-level and user-level settings.
    -   `modules/core/`: NixOS system modules that are shared across different hosts (e.g., bootloader, networking, system services).
    -   `modules/home/`: Home Manager modules for managing user-specific configurations (e.g., shell, terminal, editors, themes).
-   `wallpapers/`: A collection of wallpapers used by the desktop environment.

## Common Tasks

### How to Apply Configuration Changes

To apply changes to a specific host, use the `nix-switch` alias defined in the `README.md`. This command will rebuild the system configuration and activate it.

**For the `desktop` host:**

```bash
nix-switch
# or sudo nixos-rebuild switch --flake .#desktop
```

**For the `laptop` host:**

```bash
nix-switch
# or sudo nixos-rebuild switch --flake .#laptop
```

### How to Update Dependencies

To update all flake inputs (dependencies) to their latest versions, use the `nix-flake-update` alias.

```bash
nix-flake-update
# or sudo nix flake update
```

After updating, you can apply the changes to a host using the `nix-switchu` alias.

```bash
nix-switchu
# or sudo nixos-rebuild switch --upgrade --flake .#<host>
```

### How to Add a New Package

-   **For a system-wide package:** Add the package to the `environment.systemPackages` list in one of the files under `modules/core/`, such as `modules/core/program.nix`.
-   **For a user-specific package:** Add the package to the `home.packages` list in `modules/home/packages.nix`.

After adding the package, apply the configuration using the appropriate `nix-switch` command.

### User and Host Information

-   **Username:** `lortane`
-   **Configured Hosts:** `desktop`, `laptop`, `vm`
